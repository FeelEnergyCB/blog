<time>2016-01-09</time>
# CSS grid

По [спецификации](http://www.w3.org/TR/css-grid-1/) CSS-grid - модуль CSS, определяющий двумерную сетку, оптимизированную для дизайна пользовательского интерфейса. В этой сетке дочерние элементы расположены в произвольных ячейках.

На начало 2016 года спецификация находится в стадии **Working Draft**. Поддержка браузера на текущий день ужасна: IE и EDGE поддерживает старую версию спецификации 2011 года. Chrome, Firefox и Opera только при включенных флагах, а в остальных браузерах пока поддержки и вовсе нет.

Для просмотре следующих примеров рекомендую воспользоваться браузером Google Chrome с включенным флагом "экспериментальные функции веб-платформы" в разделе chrome://flags

## Приступим
Начнем с определением блока как grid контейнер, свойством **display** со значением **grid** или **inline-grid**.

Далее мы настраиваем сетку этого grid контейнера, свойствами **grid-template-columns** и **grid-template-rows**. В эти свойства передаются по порядку размеры каждой из колонок и строк, соответственно.

Единицами измерений размеров в данном случае могу быть:

- **линейные размеры** — стандартные единицы измерения: px, %, em, rem, vw, vh и т.д.; (если высота контейнера не указана, процентные значения для строк работать не будут)
- **доли (fraction, fr)** — неотрицательное число, представляет собой долю свободного места в grid контейнере;
- **min-content** — ключевое слово для указания минимальной длины, исходя из минимальной длинные контента;
- **max-content** — ключевое слово для указания максимальной длины, исходя из максимальной длинные контента;
- **minmax(min, max)** — функция, задающая диапазон значений от >= min до <= max. Если max < min, то max будет проигнорирован и результат minmax(min,max) будет равен min.
- **auto** — автоматический размер, по контенту. Максимальное значение auto будет идентично max-content, а минимальное представлять собой наибольший минимальный размер, как определенно в спецификациях  min-width / min-height.

### Настройка сетки

Для примера создадим сетку, используя все единицы измерений, перечисленные ранее в том же порядке.
```
.container {
  display: grid;
  grid-template-columns: 100px 1fr min-content max-content minmax(min-content, 1fr) auto;
}
```

<iframe src="http://jsbin.com/jihizor/10/edit?output" heigth="100"></iframe>


Так же можно сразу объявить все области сетки и дать каждой из них идентификатор, свойством **grid-template-areas**.  
У дочерних элементов сетки присваивание идентификатора происходит с помощью свойства **grid-area**.

```
.container {
  display: grid;
  grid-template-columns: auto minmax(min-content, 1fr);
  grid-template-rows: auto minmax(min-content, 1fr) minmax(min-content, 2fr) auto;
  grid-template-areas: "title stats"
                       "score stats"
                       "board board"
                       "board board"
                       "ctrls ctrls";
}
```

<iframe src="http://jsbin.com/jihizor/12/edit?output" heigth="150"></iframe>

### Области сетки

Дочерние элементы сетки тоже имеют несколько новых интересных свойств, например:

- как описывалось выше, если у grid контейнера определенно свойство **grid-template-areas**, то каждый из дочерних элементов может использовать идентификатор для своего позиционирования, свойством **grid-area**;
- так же, любой дочерний элемент можно поместить в любую ячейку контейнера свойствами **grid-column** и **grid-row**, которые принимают номер ячейки и строки соответственно. Если необходимо объединить несколько ячеек или строк, то используется конструкция:
```
  grid-column: 1 / span 2;
  grid-row: 1 / span 2;
```

где '2' - количество объединяемых ячеек или строк соответственно.
- свойства **justify-self** и **align-self** позиционируют элемент относительно ячейки сетки по вертикали и горизонтали соответственно:

<iframe src="http://jsbin.com/jihizor/13/edit?output" heigth="150"></iframe>

## Заключение

На мой взгляд модуль CSS3 Grid Layout это новая веха в развитии CSS. Этот модуль в конце концов положит конец вопросам позиционирования элементов на странице. Можно создавать совершенно разный вид страниц на десктопе и мобильных устройствах, не прибегая к манипулированию с html разметкой.

Но главный вопрос остается в практически полном отсутствии поддержки современными браузерами, что и отталкивает большинство разработчиков в экспериментах с данным модулем.
